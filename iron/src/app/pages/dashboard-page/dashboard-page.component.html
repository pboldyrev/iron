<app-confirmation-popup
  title="Log out?"
  subtitle="Please confirm you would like to log out."
  confirmText="Yes, log out"
  size="medium"
  (confirmed)="onConfirmLogOut()"
  #logOutConfirmPopup
></app-confirmation-popup>
<app-add-asset-popup
    #addAssetPopup
></app-add-asset-popup>
<div class="row dashboard-wrapper">
    <div class="col-lg-5 col-sm-12">
        <div class="dashboard-side-wrapper">
            <div class="dashboard-networth-wrapper">
                <app-networth
                    [totalNetworth]="totalNetworth"
                    [isLoading]="(isNetWorthLoading$ | async) ?? true"
                ></app-networth>
                <div class="dashboard-networth-change-wrapper">
                    <app-value-change
                        [timeframes]="networthTimeframes"
                    ></app-value-change>
                </div>
            </div>
            <div *ngIf="!(isNetWorthLoading$ | async) && networthValues.length > 1" class="dashboard-networth-chart-wrapper">
                <app-chart
                    [assetValues]="networthValues"
                ></app-chart>
            </div>
        </div>
    </div>
    <div class="col-lg-7 col-sm-12 dashboard-content-wrapper">
        <div class="row">
            <div class="col-12 dashboard-actions-wrapper">
                <blu-button type="primary" iconName="plus" (click)="onAddAsset()">
                    {{ TEXTS.BTN_PRIMARY_CTA }}
                </blu-button>
                <blu-button type="secondary" (click)="onLogOut()">
                    {{ TEXTS.BTN_SECONDARY_CTA }}
                </blu-button>
            </div>
        </div>
        <div class="row">
            <ng-container *ngFor="let asset of assetSummaries$ | async">
                <div class="col-lg-12 col-xl-6 dashboard-asset-summary">
                    <app-asset-type-card
                        [asset]="asset"
                    ></app-asset-type-card>
                </div>
            </ng-container>
        </div>
        <div class="row">
            <div class="col-12 dashboard-asset-table-wrapper">
                <app-asset-table
                    [columns]="assetTableColumns"
                    [assets$]="assets$"
                    [isLoading$]="isTableLoading$"
                ></app-asset-table>
            </div>
        </div>
    </div>
</div>